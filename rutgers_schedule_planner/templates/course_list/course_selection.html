<!DOCTYPE html>

<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
    <div id="content">
        <div id="filter_sidebar">
            <form action="{% url 'course_list:course_selection' %}" method="get">
                <input type="submit" value="Filter">
                <div class="hidden">{{ student_form.as_p }}</div>
                <div id="course_filters">{{ course_form.as_p }}</div>
            </form>
            <div id="dynamic_filters">
                {{ dynamic_form.as_p }}
            </div>
        </div>
        <div id="course_list">
            {% for course in courses %}
                <div class="course_information"
                     data-code_level="{{ course.code_level }}"
                     data-credits="{{ course.credits }}"
                     data-school="{{ course.school.code }}"
                     data-subject="{{ course.subject.code }}">
                    <button type="button" class="collapsible_course">
                        Title {{ course.title }}; Code {{ course.school.code }}:{{ course.subject.code }}:{{ course.code }};
                        Credits {{ course.credits }}; Level {{ course.level }}
                    </button>
                    <div class="course_content">
                        <div class="cores_list">
                            <p>Cores</p>
                            <ul>
                                {% for core in course.cores.all %}
                                    <li>
                                        <div class="core_information" data-core_code="{{ core.code }}">{{ core.code }} - {{ core.description }}</div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>

                        <div class="section_list">
                            <p>Sections</p>
                            <ul>
                                {% for section in course.section_set.all %}
                                    <li>
                                        <div class="section_information"
                                             data-open_status="{{ section.open_status }}">
                                            Section {{ section.number }}; Index {{ section.index }}; Status {{ section.open_status }};
                                            Instructor
                                            {{ section.instructor }}; Exam {{ section.exam_code_text }}
                                            <br>
                                            Subtitle {{ section.subtitle }}
                                            <br>
                                            Notes {{ section.notes }}
                                            <br>
                                            Restrictions {{ section.restrictions }}
                                            <br>
                                            Comments {{ section.comments.all }}
                                            <br>
                                            Cross Listed {{ section.cross_listed }}
                                            <ul>
                                                {% for section_class in section.sectionclass_set.all %}
                                                    <li>
                                                        <div class="section_class_information"
                                                             data-campus="{{ section_class.campus_title }}">
                                                            Campus Num {{ section_class.campus_num }}; Day {{ section_class.day }};
                                                            Start
                                                            Time
                                                            {{ section_class.start_time }}; End Time {{ section_class.end_time }};
                                                            Campus
                                                            {{ section_class.campus_title }}; Building {{ section_class.building }};
                                                            Room
                                                            {{ section_class.room }}
                                                        </div>
                                                    </li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'course_list/collapsible_course.js' %}"></script>
    <script src="{% static 'course_list/specific_filters.js' %}"></script>
</body>
