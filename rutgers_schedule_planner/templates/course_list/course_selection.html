<!DOCTYPE html>

<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
    <div id="content">
        <div id="filter_sidebar">
            <form action="{% url 'course_list:course_selection' %}" method="get">
                <input type="submit" value="Filter">
                <div class="hidden">
                    {{student_form.as_p}}
                </div>
                <div id="course_filters">
                    {{course_form.as_p}}
                </div>
            </form>
            <div id="dynamic_filters">
                <p>Section Status</p>
                <input type="checkbox" id="section_open" name="open_status" value="True" checked
                    onclick="filter_sections()">
                <label for="section_open">Open</label><br>
                <input type="checkbox" id="section_closed" name="open_status" value="False" checked
                    onclick="filter_sections()">
                <label for="section_closed">Closed</label><br>

                <p>Level of Study</p>
                {% for code_level in code_levels %}
                <input type="checkbox" id={{code_level}} name="code_level" value={{code_level}} checked
                    onclick="filter_sections()">
                <label for={{code_level}}>{{code_level}}</label><br>
                {% endfor %}

                <p>Campus Location</p>
                {% for campus in campuses %}
                <input type="checkbox" id={{campus}} name="campus" value={{campus}} checked onclick="filter_sections()">
                <label for={{campus}}>{{campus}}</label><br>
                {% endfor %}

                <p>Course Credits</p>
                {% for credit in credits %}
                {% if credit > 0 %}
                <input type="checkbox" id={{credit}} name="credits" value={{credit}} checked onclick="filter_sections()">
                <label for={{credit}}>{{credit}}</label><br>
                {% endif %}
                {% endfor %}
                {% if credits.0 < 0 %}
                <input type="checkbox" id={{credits.0}} name="credits" value={{credits.0}} checked onclick="filter_sections()">
                <label for={{credits.0}}>Credits by arrangement</label><br>
                {% endif %}
            </div>
        </div>
        <div id="course_list">
            {% for course in courses %}
            <div class="course_information" data-code_level={{course.code_level}} data-credits={{course.credits}}>
                <button type="button" class="collapsible_course">
                    Title {{course.title}}; Code {{course.school.code}}:{{course.subject.code}}:{{course.code}};
                    Credits
                    {{course.credits}};
                    {% for core in course.cores.all %}
                    Core {{core.description}};
                    {% endfor %}
                    Level {{course.level}}
                </button>
                <div class="section_list">
                    <ul>
                        {% for section in course.section_set.all %}
                        <div class="section_information" data-open_status={{section.open_status}}>
                            <li>
                                Section {{section.number}}; Index {{section.index}}; Status {{section.open_status}};
                                Instructor
                                {{section.instructor}}; Exam {{section.exam_code_text}}
                                <br>Subtitle {{section.subtitle}}
                                <br>Notes {{section.notes}}
                                <br>Restrictions {{section.restrictions}}
                                <br>Comments {{section.comments.all}}
                                <br> Cross Listed {{section.cross_listed}}
                                <ul>
                                    {% for section_class in section.sectionclass_set.all %}
                                    <div class="section_class_information" data-campus={{section_class.campus_title}}>
                                        <li>
                                            Campus Num {{section_class.campus_num}}; Day {{section_class.day}}; Start
                                            Time
                                            {{section_class.start_time}}; End Time {{section_class.end_time}}; Campus
                                            {{section_class.campus_title}}; Building {{section_class.building}}; Room
                                            {{section_class.room}}
                                        </li>
                                    </div>
                                    {% endfor %}
                                </ul>
                            </li>
                        </div>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'course_list/collapsible_course.js' %}"></script>
    <script src="{% static 'course_list/specific_filters.js' %}"></script>
</body>